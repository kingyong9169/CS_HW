CREATE DATABASE SPORTS;

USE SPORTS;

CREATE TABLE ADDRESS(
	ADDRESS_ID char(5) NOT NULL,
    ADDRESS_NAME varchar(45) NOT NULL,
    ZIP_CODE int,
    CONSTRAINT PK_ADDRESS PRIMARY KEY(ADDRESS_ID)
);

CREATE TABLE TEAM(
	TEAM_ID char(5) NOT NULL,
    TEAM_NAME varchar(45) NOT NULL,
    PHONE int,
    ADDRESS_ID char(5) NOT NULL,
    CONSTRAINT PK_TEAM PRIMARY KEY(TEAM_ID),
    CONSTRAINT FK_TEAM_ADDRESS FOREIGN KEY(ADDRESS_ID) REFERENCES ADDRESS(ADDRESS_ID)
);

CREATE TABLE PLAYER(
	PLAYER_ID char(5) NOT NULL,
    PLAYER_NAME varchar(45) NOT NULL,
    PLAYER_NO int,
    EMAIL varchar(45),
    TEAM_ID char(5) NOT NULL,
    CONSTRAINT PK_Player PRIMARY KEY(PLAYER_ID),
    CONSTRAINT FK_Player_Team FOREIGN KEY(TEAM_ID) REFERENCES TEAM(TEAM_ID)
);

ALTER TABLE TEAM MODIFY COLUMN PHONE varchar(45);

ALTER TABLE ADDRESS MODIFY COLUMN ZIP_CODE int NOT NULL;

ALTER TABLE PLAYER DROP COLUMN EMAIL;

INSERT INTO ADDRESS VALUES ('A0001', 'Korea', 1001);
INSERT INTO ADDRESS VALUES ('A0002', 'England', 1002);
INSERT INTO ADDRESS VALUES ('A0003', 'Spain', 1003);
INSERT INTO ADDRESS VALUES ('A0004', 'Italy', 1004);

INSERT INTO TEAM VALUES ('TM011', 'Arsenal', '12345', 'A0002');
INSERT INTO TEAM VALUES ('TM012', 'Tottenham', '23456', 'A0002');
INSERT INTO TEAM VALUES ('TM013', 'Manchester United', '23456', 'A0002');
INSERT INTO TEAM VALUES ('TM014', 'FC Seoul', '34567', 'A0001');
INSERT INTO TEAM VALUES ('TM015', 'Barcelona', '45678', 'A0003');
INSERT INTO TEAM VALUES ('TM016', 'Real Madrid', NULL, 'A0003');
INSERT INTO TEAM VALUES ('TM017', 'Juventus', NULL, 'A0004');

INSERT INTO PLAYER VALUES ('P0111', 'Saka', 7, 'TM011');
INSERT INTO PLAYER VALUES ('P0112', 'Leno', 1, 'TM011');
INSERT INTO PLAYER VALUES ('P0113', 'Son', 7, 'TM012');
INSERT INTO PLAYER VALUES ('P0114', 'Ronaldo', 7, 'TM013');
INSERT INTO PLAYER VALUES ('P0115', 'Pogba', 5, 'TM013');
INSERT INTO PLAYER VALUES ('P0116', 'Park', 10, 'TM014');
INSERT INTO PLAYER VALUES ('P0117', 'Pique', 3, 'TM015');
INSERT INTO PLAYER VALUES ('P0118', 'Benzema', 3, 'TM016');
INSERT INTO PLAYER VALUES ('P0119', 'Dybala', 10, 'TM017');

SELECT ADDRESS_NAME FROM ADDRESS;

SELECT TEAM_NAME FROM TEAM WHERE TEAM_NAME LIKE '%en%';

SELECT PLAYER_NAME, PLAYER_NO FROM PLAYER WHERE PLAYER_NO=7 OR PLAYER_NO=10;

SELECT COUNT(*) AS NoOfPlayers FROM PLAYER;